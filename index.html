<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fabbrica Mebel - Azərbaycanın n Yaxşı Mebel Mağazası</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: 'rgb(189, 184, 137)',
                        brandDark: 'rgb(169, 169, 169)',
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        .glass-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Scroll  Animation Classes */
        . {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }
        ..active {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="bg-white text-slate-800 antialiased selection:bg-slate-900 selection:text-white overflow-x-hidden">

    <!-- MOBILE MENU OVERLAY -->
    <div id="mobile-menu-overlay" class="fixed inset-0 bg-slate-900/98 z-50 transform translate-x-full transition-transform duration-300 flex flex-col justify-center items-center md:hidden backdrop-blur-xl">
        <!-- Close Button -->
        <button id="close-menu-btn" class="absolute top-6 right-6 text-white hover:text-brand transition">
            <i data-lucide="x" class="w-8 h-8"></i>
        </button>
        
        <!-- Mobile Menu Logo -->
        <div class="absolute top-6 left-6">
             <img src="http://ebrd.customar.tech/fabbrica1/svg/logo-dark.svg" 
                 alt="Fabbrica Logo" 
                 class="w-28 brightness-0 invert"
                 onerror="this.style.display='none'">
        </div>

        <nav class="flex flex-col gap-8 text-center text-2xl font-light text-white mt-8">
            <a href="#" class="hover:text-brand transition" onclick="toggleMenu()">Haqqımızda</a>
            <a href="#" class="hover:text-brand transition" onclick="toggleMenu()">Xidmətlər</a>
            <a href="#" class="hover:text-brand transition" onclick="toggleMenu()">Layihələr</a>
            <a href="#" class="hover:text-brand transition" onclick="toggleMenu()">Bloq</a>
            <a href="#" class="hover:text-brand transition" onclick="toggleMenu()">Əlaqə</a>
        </nav>
        <a href="#" class="mt-12 bg-brand text-white px-8 py-3 rounded-full font-medium flex items-center gap-2 hover:bg-brandDark transition shadow-lg shadow-brand/20">
            <i class="fas fa-shopping-bag w-5 h-5 text-white"></i> Mağaza
        </a>
    </div>

    <!-- NAVBAR WITH TWO ROWS -->
    <nav class="bg-white sticky top-0 z-40">
        <!-- First Row: Logo, Search, Login, Favorites, Cart -->
        <div class="max-w-7xl mx-auto px-6 md:px-12 py-16 md:py-5">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <div class="flex items-center">
                    <img src="http://ebrd.customar.tech/fabbrica1/svg/logo-dark.svg" 
                         alt="Fabbrica Logo" 
                         class="logo-width transition-all duration-300"
                         onerror="this.style.display='none'; this.parentElement.innerHTML+='<h1 class=\'text-2xl md:text-3xl font-bold text-slate-900 tracking-widest\'>FABBRICA</h1>'">
                </div>

                <!-- Right Actions -->
                            <!-- Desktop Nav & Actions -->
            <div class="hidden md:flex items-center gap-8">
                <!-- Menu Links -->
                <nav class="flex items-center gap-8 text-black text-sm font-medium tracking-wide">
                    <a href="#" class="group relative py-2">
                        Haqqımızda
                        <span class="absolute bottom-0 left-0 w-0 h-px bg-brand transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <a href="#" class="group relative py-2">
                        Xidmətlər
                        <span class="absolute bottom-0 left-0 w-0 h-px bg-brand transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <a href="#" class="group relative py-2">
                        Layihələr
                        <span class="absolute bottom-0 left-0 w-0 h-px bg-brand transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <a href="#" class="group relative py-2">
                        Bloq
                        <span class="absolute bottom-0 left-0 w-0 h-px bg-brand transition-all duration-300 group-hover:w-full"></span>
                    </a>
                    <a href="#" class="group relative py-2">
                        Əlaqə
                        <span class="absolute bottom-0 left-0 w-0 h-px bg-brand transition-all duration-300 group-hover:w-full"></span>
                    </a>
                </nav>

                <!-- Divider -->
                <div class="h-6 w-px bg-white/20"></div>

                <!-- Right Actions (Lang & Shop) -->
                <div class="flex items-center gap-6">
                    <!-- Language Dropdown -->
                    <div class="relative group">
                        <button id="lang-btn" class="text-slate-700 text-xs font-semibold hover:text-brand transition flex items-center gap-1 focus:outline-none bg-slate-100 px-3 py-1.5 rounded-full border border-slate-300 shadow-sm">
                            AZ <i class="fas fa-chevron-down w-3 h-3 transition-transform" id="lang-chevron"></i>
                        </button>
                        <!-- Dropdown Menu -->
                        <div id="lang-dropdown" class="absolute top-full right-0 mt-2 w-24 bg-white rounded-xl shadow-xl py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                            <a href="#" class="block px-4 py-2 text-xs font-medium hover:bg-slate-50 hover:text-brand transition first:rounded-t-xl">AZ</a>
                            <a href="#" class="block px-4 py-2 text-xs font-medium hover:bg-slate-50 hover:text-brand transition">EN</a>
                            <a href="#" class="block px-4 py-2 text-xs font-medium hover:bg-slate-50 hover:text-brand transition last:rounded-b-xl">RU</a>
                        </div>
                    </div>

                    <!-- Shop Button -->
                    <a href="#" class="flex items-center gap-2 bg-slate-900 hover:bg-brand hover:border-brand hover:text-white text-white border border-white/20 backdrop-blur-md px-5 py-2.5 rounded-full transition-all duration-300 text-sm font-medium group">
                        <i class="fas fa-shopping-bag w-4 h-4 text-white"></i>
                        Mağaza
                    </a>
                </div>
            </div>
            </div>
        </div>

        <!-- Second Row: Product Categories -->
        <div class="px-6 md:px-12 py-3 bg-slate-900 text-white border-b border-slate-700">
            <div class="flex items-center flex-start max-w-7xl mx-auto md:px-12">
                <!-- Categories -->
                <div class="flex items-center gap-6 overflow-x-auto scrollbar-hide">
                    <!-- Bütün məhsullar Dropdown (moved outside overflow) -->
                </div>
                
                <!-- Dropdown Container (outside overflow) -->
                <ul class="flex items-center gap-6">
                    <li class="relative group" id="bütün-mehsullar-dropdown">
                        <button class="flex items-center gap-2 text-white hover:text-brand transition whitespace-nowrap text-sm font-medium">
                            <span>Bütün məhsullar</span>
                            <i data-lucide="chevron-down" class="w-4 h-4"></i>
                        </button>
                        
                        <!-- Simple Dropdown Menu -->
                        <div id="simple-menu" class="opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 dropdown-menu">
                            <div class="dropdown-menu-inner">
                                <a href="#" class="dropdown-item">
                                    <img src="https://cdn-icons-png.flaticon.com/512/2838/2838694.png" class="dropdown-icon" alt="TV">
                                    <div>
                                        <div class="dropdown-title">TV şkafları</div>
                                        <div class="dropdown-desc">Müasir TV mebelləri</div>
                                    </div>
                                </a>
                                <a href="#" class="dropdown-item">
                                    <img src="https://cdn-icons-png.flaticon.com/512/2838/2838651.png" class="dropdown-icon" alt="Monitor">
                                    <div>
                                        <div class="dropdown-title">Divar dəstləri</div>
                                        <div class="dropdown-desc">Divar kompozisiyaları</div>
                                    </div>
                                </a>
                                <a href="#" class="dropdown-item">
                                    <img src="https://cdn-icons-png.flaticon.com/512/2838/2838644.png" class="dropdown-icon" alt="Coffee">
                                    <div>
                                        <div class="dropdown-title">Jurnal stolları</div>
                                        <div class="dropdown-desc">İstirahət stolları</div>
                                    </div>
                                </a>
                                <a href="#" class="dropdown-item">
                                    <img src="https://cdn-icons-png.flaticon.com/512/2838/2838669.png" class="dropdown-icon" alt="Package">
                                    <div>
                                        <div class="dropdown-title">Divar rafları</div>
                                        <div class="dropdown-desc">Dekorativ raflar</div>
                                    </div>
                                </a>
                                <a href="#" class="dropdown-item">
                                    <img src="https://cdn-icons-png.flaticon.com/512/2838/2838687.png" class="dropdown-icon" alt="Edit">
                                    <div>
                                        <div class="dropdown-title">Yazı stolları</div>
                                        <div class="dropdown-desc">İş stolları</div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </li>
                    
                    <li><button class="text-white hover:text-brand transition whitespace-nowrap text-sm font-medium">Mətbəx mebeli</button></li>
                    <li><button class="text-white hover:text-brand transition whitespace-nowrap text-sm font-medium">Yataq otağı</button></li>
                    <li><button class="text-white hover:text-brand transition whitespace-nowrap text-sm font-medium">Qonaq otağı</button></li>
                    <li><button class="text-white hover:text-brand transition whitespace-nowrap text-sm font-medium">Ofis mebeli</button></li>
                    <li><button class="text-white hover:text-brand transition whitespace-nowrap text-sm font-medium">Uşaq otağı</button></li>
                    <li><button class="text-white hover:text-brand transition whitespace-nowrap text-sm font-medium">Divanlar</button></li>
                    <li><button class="text-white hover:text-brand transition whitespace-nowrap text-sm font-medium">Stullar</button></li>
                    <li><button class="text-white hover:text-brand transition whitespace-nowrap text-sm font-medium">Dolablar</button></li>
                </ul>
            </div>
        </div>
        
        <!-- Background Overlay -->
        <div id="dropdown-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden" onclick="closeAllDropdowns()"></div>
    </nav>

    <!-- HERO SECTION -->
    <header class="relative h-[70vh] w-full overflow-hidden">
        <!-- Background Image Container -->
        <div class="absolute inset-0 bg-slate-900">
            <img id="hero-bg" src="https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?q=80&w=2000&auto=format&fit=crop" 
                 alt="Mebel Fabriki İnteryer" 
                 class="w-full h-full object-cover transition-opacity duration-1000">
            <div class="absolute inset-0 bg-gradient-to-r from-slate-900/70 to-transparent"></div>
        </div>
        <!-- HERO CONTENT WRAPPER -->
        <div class="absolute bottom-12 left-0 right-0 z-10 px-6 md:px-12 flex flex-col md:flex-row justify-between items-end pointer-events-none">
            
            <!-- Left Side: Text & Button -->
            <div class="pointer-events-auto max-w-2xl w-full mb-8 md:mb-0 transition-all duration-700" id="hero-text-content">
                <!-- Text Panel (ID for height sync) -->
                <div id="hero-text-panel" class="glass-panel p-6 md:p-8 rounded-2xl text-white mb-6 max-w-lg transition-all duration-300">
                    <p id="hero-title" class="text-xl md:text-2xl font-light leading-snug">
                        Premium mebel istehsalı: Estetika və funksionallığın sərhədsiz harmoniyası
                    </p>
                </div>
                
                <!-- Order Button with Custom Color Hover -->
                <button class="bg-white text-slate-900 px-8 py-3.5 rounded-full font-medium flex items-center gap-3 hover:bg-brand hover:text-white transition duration-300 group shadow-lg shadow-black/20">
                    Sifariş göndər
                    <i class="fas fa-arrow-up text-brand group-hover:text-white transition-all duration-300 transform rotate-45 group-hover:rotate-90"></i>
                </button>
            </div>

            <!-- Right Side: Next Slide & Socials -->
            <div class="pointer-events-auto flex flex-col items-end gap-6 w-full md:w-auto mt-4 md:mt-0">
                
                <!-- Next Slide Card (ID for height sync) -->
                <!-- Mobile: Fixed smaller width aligned right. Desktop: Dynamic height synced to text panel -->
                <div id="next-slide-card" class="relative w-48 md:w-64 rounded-xl overflow-hidden glass-panel border border-white/30 group cursor-pointer transition-all duration-300" onclick="forceNextSlide()">
                    <!-- Next Image -->
                    <img id="next-slide-img" src="https://images.unsplash.com/photo-1556911220-e15b29be8c8f?q=80&w=600&auto=format&fit=crop" 
                         class="w-full h-full object-cover opacity-80 group-hover:scale-105 transition duration-700">
                    
                    <!-- Overlay Text -->
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex flex-col justify-end p-4">
                        <span class="text-[10px] text-brand uppercase tracking-widest mb-1 font-bold">Növbəti</span>
                        <p id="next-slide-title" class="text-white text-sm font-medium line-clamp-1">Mətbəx Həlləri</p>
                    </div>

                    <!-- Loading Bar with Custom Color -->
                    <div class="absolute bottom-0 left-0 h-1 bg-white/20 w-full">
                        <div id="slider-progress" class="h-full bg-brand w-0"></div>
                    </div>
                </div>

                <!-- Socials (Aligned with Order Button) -->
                <div class="flex gap-4">
                    <a href="#" class="bg-white/20 p-3.5 rounded-full backdrop-blur-sm text-white hover:bg-brand hover:text-white transition flex items-center justify-center">
                        <i data-lucide="send" class="w-5 h-5"></i>
                    </a>
                    <a href="#" class="bg-white/20 p-3.5 rounded-full backdrop-blur-sm text-white hover:bg-brand hover:text-white transition flex items-center justify-center">
                        <i data-lucide="phone" class="w-5 h-5"></i>
                    </a>
                </div>

            </div>
        </div>
    </header>

    <!-- ABOUT SECTION -->
    <section class="py-16 md:py-20 px-6 md:px-12 max-w-7xl mx-auto ">
        <div class="grid grid-cols-1 md:grid-cols-12 gap-8 md:gap-12">
            <!-- Left Label -->
            <div class="md:col-span-2">
                 <span class="inline-block bg-slate-100 text-slate-600 px-4 py-1.5 rounded-full text-xs font-semibold">Haqqımızda</span>
            </div>

            <!-- Right Content -->
            <div class="md:col-span-10">
                <h2 class="text-2xl md:text-3xl font-medium leading-tight mb-8 text-slate-900 max-w-4xl">
                    Fabbrica — innovativ mebel həllərinin aparıcı təchizatçısıdır. Çoxillik təcrübə və dizayna olan sevgimizlə, biz məkanları dəyişdiririk.
                </h2>
                
                <div class="flex flex-col md:flex-row gap-8 items-start">
                    <img src="https://images.unsplash.com/photo-1581539250439-c9230958b143?q=80&w=300&auto=format&fit=crop" 
                         class="w-full md:w-48 h-32 object-cover rounded-sm shadow-sm  delay-200" alt="Emalatxana">
                    <p class="text-slate-500 text-sm leading-relaxed max-w-md pt-2  delay-300">
                        Ekspert komandamız konsultasiyadan quraşdırmaya qədər mükəmməl nəticəyə zəmanət verir. Biz müştəri məmnuniyyətinə və ideyalarınızı reallığa çevirmək bacarığımıza güvənirik.
                    </p>
                </div>
            </div>
        </div>

        <!-- Stats with Dividers -->
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 mt-20 md:mt-24 gap-8 md:gap-0" id="stats-container"> 
            <!-- Item 1 -->
            <div class="pb-8 md:pb-0 md:pr-6 md:border-r border-slate-200  delay-100">
                <h3 class="text-4xl md:text-5xl font-light text-slate-900 mb-2 flex">
                    <span class="counter" data-target="25">0</span><span>+</span>
                </h3>
                <p class="text-sm font-bold text-brand mb-1">İllik təcrübə</p>
                <p class="text-xs text-slate-400 leading-relaxed">Peşəkar təcrübə və etibarlı quraşdırma</p>
            </div>
             <!-- Item 2 -->
            <div class="py-8 md:py-0 md:px-6 md:border-r border-slate-200 border-t md:border-t-0 border-slate-100  delay-200">
                <h3 class="text-4xl md:text-5xl font-light text-slate-900 mb-2 flex">
                    <span class="counter" data-target="40">0</span><span>%</span>
                </h3>
                <p class="text-sm font-bold text-brand mb-1">Daha səmərəli</p>
                <p class="text-xs text-slate-400 leading-relaxed">Enerji effektli istehsal sayəsində qənaət</p>
            </div>
             <!-- Item 3 -->
            <div class="py-8 md:py-0 md:px-6 md:border-r border-slate-200 border-t md:border-t-0 border-slate-100  delay-300"> 
                <h3 class="text-4xl md:text-5xl font-light text-slate-900 mb-2 flex">
                    <span class="counter" data-target="98">0</span><span>%</span>
                </h3>
                <p class="text-sm font-bold text-brand mb-1">Məmnuniyyət</p>
                <p class="text-xs text-slate-400 leading-relaxed">Müştərilərimizin yüksək rəyləri və tövsiyələri</p>
            </div>
             <!-- Item 4 -->
            <div class="pt-8 md:pt-0 md:pl-6 border-t md:border-t-0 border-slate-100  delay-400">
                <h3 class="text-4xl md:text-5xl font-light text-slate-900 mb-2 flex">
                    <span class="counter" data-target="250">0</span><span>+</span>
                </h3>
                <p class="text-sm font-bold text-brand mb-1">Növ məhsul</p>
                <p class="text-xs text-slate-400 leading-relaxed">Geniş çeşidli interyer həlləri və dizaynlar</p>
            </div>
        </div>
    </section>

    <!-- DARK GRID / PROJECTS SECTION -->
    <section class="bg-slate-900 text-white w-full ">
        <!-- New Header for Projects -->
        <div class="max-w-7xl mx-auto px-6 md:px-12 py-16 md:py-20">
            <div class="grid grid-cols-1 md:grid-cols-12 gap-8 md:gap-12">
                <!-- Left Label -->
                <div class="md:col-span-2">
                     <span class="inline-block bg-white/10 text-white border border-white/20 px-4 py-1.5 rounded-full text-xs font-semibold">Layihələr</span>
                </div>

                <!-- Right Content -->
                <div class="md:col-span-10">
                    <div class="flex flex-col md:flex-row justify-between items-start gap-6">
                        <div class="max-w-3xl">
                            <h2 class="text-2xl md:text-3xl font-medium leading-tight mb-8 text-white">
                                İlham verən məkanlar, qüsursuz icra. Hər bir layihəmiz funksionallıq və estetikanın vəhdətidir.
                            </h2>
                            
                            <div class="flex flex-col md:flex-row gap-8 items-start">
                                <p class="text-slate-400 text-sm leading-relaxed max-w-md pt-2">
                                    Bizim üçün hər bir layihə yeni bir hekayədir. Müştərilərimizin xəyallarını reallığa çevirərkən ən xırda detallara belə diqqət yetiririk.
                                </p>
                            </div>
                        </div>
                        
                        <!-- Projects Button -->
                        <a href="#" class="bg-brand text-white px-6 py-2.5 text-sm rounded-full font-medium flex items-center gap-2 hover:bg-brandDark transition duration-300 group shadow-lg shrink-0">
                            Bütün layihələr
                            <i class="fas fa-arrow-right w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- The Grid -->
        <div class="grid grid-cols-1 md:grid-cols-4 md:grid-rows-2 w-full h-auto md:h-[60vh]">
            
            <!-- Large Item 1: Tall (Left) -->
            <div class="group relative col-span-1 md:col-span-1 md:row-span-2 h-72 md:h-full overflow-hidden bg-slate-800  delay-100">
                <img src="https://images.unsplash.com/photo-1600607686527-6fb886090705?q=80&w=800&auto=format&fit=crop" class="w-full h-full object-cover opacity-70 group-hover:opacity-50 transition duration-700 scale-100 group-hover:scale-105" alt="Dizayn">
                <div class="absolute inset-0 bg-gradient-to-t from-slate-900/90 via-transparent to-transparent opacity-80"></div>
                <div class="absolute bottom-0 left-0 p-6 md:p-8 w-full">
                    <h3 class="text-xl font-light mb-2">Dizayn Konsultasiyası</h3>
                    <p class="text-slate-300 text-xs mb-4 leading-relaxed max-w-xs">Layihəniz üçün ekspert rəhbərliyi, material seçimi və 3D vizuallaşdırma.</p>
                    <button class="flex items-center gap-2 text-xs border-b border-brand pb-1 text-brand hover:text-white hover:border-white transition">
                        Ətraflı <i data-lucide="arrow-right" class="w-3 h-3"></i>
                    </button>
                </div>
            </div>

            <!-- New Item 2a: Wide Kitchen (2 Columns) -->
            <div class="group relative col-span-1 md:col-span-2 h-72 md:h-full overflow-hidden bg-slate-800  delay-200">
                <img src="https://images.unsplash.com/photo-1556911220-e15b29be8c8f?q=80&w=1600&auto=format&fit=crop" class="w-full h-full object-cover opacity-70 group-hover:opacity-50 transition duration-700 scale-100 group-hover:scale-105" alt="Mətbəx">
                <div class="absolute inset-0 bg-gradient-to-l from-slate-900/60 to-transparent"></div>
                <div class="absolute bottom-0 left-0 p-6 md:p-8 w-full bg-gradient-to-t from-slate-900/80 md:bg-none">
                     <h3 class="text-xl font-light mb-2">Fərdi Sifarişlə Mətbəxlər</h3>
                     <p class="text-slate-300 text-xs mb-4 leading-relaxed max-w-sm">Sizin həyat tərzinizə və məkanınıza tam uyğunlaşdırılmış, funksional və estetik mətbəx mebelləri.</p>
                     <button class="flex items-center gap-2 text-xs border-b border-brand pb-1 text-brand hover:text-white hover:border-white transition">
                        Ətraflı <i data-lucide="arrow-right" class="w-3 h-3"></i>
                    </button>
                </div>
            </div>

            <!-- New Item 2b: Detail Shot (1 Column) -->
            <div class="group relative col-span-1 md:col-span-1 h-72 md:h-full overflow-hidden bg-slate-800 border-l border-slate-800/20  delay-300">
                <img src="https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?q=80&w=800&auto=format&fit=crop" class="w-full h-full object-cover opacity-70 group-hover:opacity-50 transition duration-700 scale-100 group-hover:scale-105" alt="Mətbəx Detalı">
                <div class="absolute bottom-0 left-0 p-6 md:p-8 w-full bg-gradient-to-t from-slate-900/80 to-transparent">
                    <h3 class="text-xl font-light mb-2">Premium Detallar</h3>
                    <p class="text-slate-300 text-xs mb-4 leading-relaxed max-w-xs">Keyfiyyət detallarda gizlidir. Xüsusi mexanizmlər və aksessuarlarla mükəmməl nəticə.</p>
                    <button class="flex items-center gap-2 text-xs border-b border-brand pb-1 text-brand hover:text-white hover:border-white transition">
                        Ətraflı <i data-lucide="arrow-right" class="w-3 h-3"></i>
                    </button>
                </div>
            </div>

            <!-- Item 3: Bottom Middle -->
            <div class="group relative col-span-1 md:col-span-1 h-72 md:h-full overflow-hidden bg-slate-800 border-t border-slate-800/20  delay-400">
                <img src="https://images.unsplash.com/photo-1524758631624-e2822e304c36?q=80&w=800&auto=format&fit=crop" class="w-full h-full object-cover opacity-70 group-hover:opacity-50 transition duration-700 scale-100 group-hover:scale-105" alt="Yataq Otağı">
                <div class="absolute bottom-0 left-0 p-6 md:p-8 w-full bg-gradient-to-t from-slate-900/80 to-transparent">
                    <h3 class="text-xl font-light mb-2">Yataq Otağı</h3>
                    <p class="text-slate-300 text-xs mb-4 leading-relaxed max-w-xs">Rahatlıq və sükunət dolu yataq otağı dəstləri. Müasir dizayn və erqonomik həllər.</p>
                    <button class="flex items-center gap-2 text-xs border-b border-brand pb-1 text-brand hover:text-white hover:border-white transition">
                        Ətraflı <i data-lucide="arrow-right" class="w-3 h-3"></i>
                    </button>
                </div>
            </div>

            <!-- Item 4: Bottom Right (Wider) -->
            <div class="group relative col-span-1 md:col-span-2 h-72 md:h-full overflow-hidden bg-slate-800 border-t border-l border-slate-800/20  delay-500">
                <img src="https://images.unsplash.com/photo-1497366216548-37526070297c?q=80&w=1200&auto=format&fit=crop" class="w-full h-full object-cover opacity-70 group-hover:opacity-50 transition duration-700 scale-100 group-hover:scale-105" alt="Ofis">
                <div class="absolute bottom-0 left-0 p-6 md:p-8 w-full bg-gradient-to-t from-slate-900/80 to-transparent">
                    <h3 class="text-xl font-light mb-2">Kommersiya və Ofis</h3>
                    <p class="text-slate-300 text-xs mb-4 leading-relaxed max-w-sm">İş mühitinizi canlandıran, məhsuldarlığı artıran ofis və kommersiya mebelləri.</p>
                    <button class="flex items-center gap-2 text-xs border-b border-brand pb-1 text-brand hover:text-white hover:border-white transition">
                        Ətraflı <i data-lucide="arrow-right" class="w-3 h-3"></i>
                    </button>
                </div>
            </div>

        </div>
    </section>

    <!-- SERVICES (Re-designed: Dark & Premium) SECTION -->
    <section class="py-16 md:py-20 px-6 md:px-12 max-w-7xl mx-auto ">
        <div class="grid grid-cols-1 md:grid-cols-12 gap-8 md:gap-12">
            <!-- Left Label -->
            <div class="md:col-span-2">
                 <span class="inline-block bg-slate-100 text-slate-600 px-4 py-1.5 rounded-full text-xs font-semibold">Xidmətlər</span>
            </div>

            <!-- Right Content -->
            <div class="md:col-span-10">
                <h2 class="text-2xl md:text-3xl font-medium leading-tight mb-8 text-slate-900 max-w-4xl">
                    Biz sadəcə mebel istehsal etmirik, biz xəyallarınızı reallaşdırırıq. Tam əhatəli xidmətlərimizlə rahatlığınızı təmin edirik.
                </h2>
                
                <div class="flex flex-col md:flex-row gap-8 items-start">
                    <p class="text-slate-500 text-sm leading-relaxed max-w-md pt-2">
                        İdeyanın yaranmasından son toxunuşa qədər hər mərhələdə peşəkarlıq. Dizayn, istehsal və montaj bir arada.
                    </p>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mt-12">
            <!-- Service 1: Dizayn -->
            <div class="group relative h-80 md:h-96 rounded-2xl overflow-hidden cursor-pointer shadow-sm hover:shadow-2xl hover:-translate-y-2 transition-all duration-500  delay-100">
                <img src="https://images.unsplash.com/photo-1600585152220-90363fe7e115?q=80&w=600&auto=format&fit=crop" 
                     class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Dizayn">
                <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/40 to-transparent opacity-80 group-hover:opacity-90 transition-opacity duration-300"></div>

                <div class="absolute inset-0 p-6 pb-10 flex flex-col justify-end">
                    <span class="text-xs font-bold text-white/40 mb-auto">01</span>
                    <div class="transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
                        <h3 class="text-xl font-bold text-white mb-1 group-hover:mb-3 transition-all duration-500">Dizayn və Layihələndirmə</h3>
                        <div class="max-h-0 opacity-0 group-hover:max-h-40 group-hover:opacity-100 overflow-hidden transition-all duration-700 ease-in-out">
                            <p class="text-xs text-slate-300 leading-relaxed mb-4">
                                Məkanınıza uyğun fərdi yanaşma, 3D vizuallaşdırma və dəqiq texniki çertyojlar.
                            </p>
                            <button class="flex items-center gap-2 text-brand text-xs border-b border-brand pb-1 hover:text-white hover:border-white transition-colors">
                                Ətraflı <i data-lucide="arrow-right" class="w-3 h-3"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Service 2: İstehsal -->
            <div class="group relative h-80 md:h-96 rounded-2xl overflow-hidden cursor-pointer shadow-sm hover:shadow-2xl hover:-translate-y-2 transition-all duration-500  delay-200">
                <img src="https://images.unsplash.com/photo-1617325247661-675ab4b64ae2?q=80&w=600&auto=format&fit=crop" 
                     class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="İstehsal">
                <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/40 to-transparent opacity-80 group-hover:opacity-90 transition-opacity duration-300"></div>

                <div class="absolute inset-0 p-6 pb-10 flex flex-col justify-end">
                    <span class="text-xs font-bold text-white/40 mb-auto">02</span>
                    <div class="transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
                        <h3 class="text-xl font-bold text-white mb-1 group-hover:mb-3 transition-all duration-500">Fərdi İstehsal</h3>
                        <div class="max-h-0 opacity-0 group-hover:max-h-40 group-hover:opacity-100 overflow-hidden transition-all duration-700 ease-in-out">
                            <p class="text-xs text-slate-300 leading-relaxed mb-4">
                                Avropa standartlarına cavab verən dəzgahlarla yüksək dəqiqliklə istehsal.
                            </p>
                            <button class="flex items-center gap-2 text-brand text-xs border-b border-brand pb-1 hover:text-white hover:border-white transition-colors">
                                Ətraflı <i data-lucide="arrow-right" class="w-3 h-3"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Service 3: Çatdırılma -->
            <div class="group relative h-80 md:h-96 rounded-2xl overflow-hidden cursor-pointer shadow-sm hover:shadow-2xl hover:-translate-y-2 transition-all duration-500  delay-300">
                <img src="https://images.unsplash.com/photo-1616401784845-180886ba9ca8?q=80&w=600&auto=format&fit=crop" 
                     class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Çatdırılma">
                <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/40 to-transparent opacity-80 group-hover:opacity-90 transition-opacity duration-300"></div>

                <div class="absolute inset-0 p-6 pb-10 flex flex-col justify-end">
                    <span class="text-xs font-bold text-white/40 mb-auto">03</span>
                    <div class="transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
                        <h3 class="text-xl font-bold text-white mb-1 group-hover:mb-3 transition-all duration-500">Sürətli Çatdırılma</h3>
                        <div class="max-h-0 opacity-0 group-hover:max-h-40 group-hover:opacity-100 overflow-hidden transition-all duration-700 ease-in-out">
                            <p class="text-xs text-slate-300 leading-relaxed mb-4">
                                Təhlükəsiz qablaşdırma və vaxtında çatdırılma xidməti.
                            </p>
                            <button class="flex items-center gap-2 text-brand text-xs border-b border-brand pb-1 hover:text-white hover:border-white transition-colors">
                                Ətraflı <i data-lucide="arrow-right" class="w-3 h-3"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Service 4: Quraşdırma -->
            <div class="group relative h-80 md:h-96 rounded-2xl overflow-hidden cursor-pointer shadow-sm hover:shadow-2xl hover:-translate-y-2 transition-all duration-500  delay-400">
                <img src="https://images.unsplash.com/photo-1581539250439-c9230958b143?q=80&w=600&auto=format&fit=crop" 
                     class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Quraşdırma">
                <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/40 to-transparent opacity-80 group-hover:opacity-90 transition-opacity duration-300"></div>

                <div class="absolute inset-0 p-6 pb-10 flex flex-col justify-end">
                    <span class="text-xs font-bold text-white/40 mb-auto">04</span>
                    <div class="transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
                        <h3 class="text-xl font-bold text-white mb-1 group-hover:mb-3 transition-all duration-500">Peşəkar Quraşdırma</h3>
                        <div class="max-h-0 opacity-0 group-hover:max-h-40 group-hover:opacity-100 overflow-hidden transition-all duration-700 ease-in-out">
                            <p class="text-xs text-slate-300 leading-relaxed mb-4">
                                Təcrübəli ustalar tərəfindən yerində montaj və zəmanət.
                            </p>
                            <button class="flex items-center gap-2 text-brand text-xs border-b border-brand pb-1 hover:text-white hover:border-white transition-colors">
                                Ətraflı <i data-lucide="arrow-right" class="w-3 h-3"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- NEW BLOG SECTION -->
    <section class="py-16 md:py-20 px-6 md:px-12 max-w-7xl mx-auto  bg-slate-50 rounded-3xl my-12">
        <div class="grid grid-cols-1 md:grid-cols-12 gap-8 md:gap-12 mb-12">
            <!-- Left Label -->
            <div class="md:col-span-2">
                 <span class="inline-block bg-brand text-white px-4 py-1.5 rounded-full text-xs font-semibold">Bloq</span>
            </div>

            <!-- Right Content -->
            <div class="md:col-span-10 flex flex-col md:flex-row justify-between items-center gap-6">
                <div class="max-w-3xl">
                    <h2 class="text-2xl md:text-3xl font-medium leading-tight text-slate-900 mb-3">
                        Son Yeniliklər və İnteryer Trendləri
                    </h2>
                    <p class="text-slate-500 text-sm leading-relaxed">
                        İnteryer dünyasındakı ən son tendensiyalar, material seçimi haqqında ekspert rəyləri və evinizi gözəlləşdirmək üçün praktik məsləhətlər.
                    </p>
                </div>

                <!-- New Styled Button for "All posts" (Smaller & Centered) -->
                <a href="#" class="bg-slate-900 text-white px-6 py-2.5 text-sm rounded-full font-medium flex items-center gap-2 hover:bg-brand hover:text-white transition duration-300 group shadow-lg shrink-0">
                    Bütün yazılar
                    <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
                </a>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Blog Card 1 -->
            <div class="group cursor-pointer">
                <div class="h-64 rounded-xl overflow-hidden mb-4 relative">
                    <img src="https://images.unsplash.com/photo-1616137466211-f939a420be84?q=80&w=600&auto=format&fit=crop" 
                         class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Minimalizm">
                    <span class="absolute top-4 left-4 bg-white/90 backdrop-blur text-slate-900 text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-wide">Dizayn</span>
                </div>
                <span class="text-xs text-slate-400 font-medium">12 Noyabr, 2024</span>
                <h3 class="text-lg font-bold text-slate-900 mt-2 mb-2 group-hover:text-brand transition-colors">2025-ci ilin İnteryer Minimalizm Trendləri</h3>
                <p class="text-sm text-slate-500 line-clamp-2 leading-relaxed">
                    Sade xətlər, təbii materiallar və funksional boşluqlar bu ilin əsas mövzularıdır. Evinizi necə daha ferah edə bilərsiniz?
                </p>
                <!-- Styled Read Button -->
                <button class="mt-4 flex items-center gap-2 text-brand text-xs font-medium border-b border-brand pb-1 hover:text-slate-900 hover:border-slate-900 transition-colors">
                    Oxu <i data-lucide="arrow-right" class="w-3 h-3"></i>
                </button>
            </div>

            <!-- Blog Card 2 -->
            <div class="group cursor-pointer">
                <div class="h-64 rounded-xl overflow-hidden mb-4 relative">
                    <img src="https://images.unsplash.com/photo-1615873968403-89e068629265?q=80&w=600&auto=format&fit=crop" 
                         class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Material Seçimi">
                    <span class="absolute top-4 left-4 bg-white/90 backdrop-blur text-slate-900 text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-wide">Məsləhət</span>
                </div>
                <span class="text-xs text-slate-400 font-medium">28 Oktyabr, 2024</span>
                <h3 class="text-lg font-bold text-slate-900 mt-2 mb-2 group-hover:text-brand transition-colors">Mətbəx Üçün Doğru Material Seçimi</h3>
                <p class="text-sm text-slate-500 line-clamp-2 leading-relaxed">
                    MDF, Akril yoxsa Təbii ağac? Mətbəx mebeli seçərkən davamlılıq və estetika arasında balansı necə qorumalı?
                </p>
                <!-- Styled Read Button -->
                <button class="mt-4 flex items-center gap-2 text-brand text-xs font-medium border-b border-brand pb-1 hover:text-slate-900 hover:border-slate-900 transition-colors">
                    Oxu <i data-lucide="arrow-right" class="w-3 h-3"></i>
                </button>
            </div>

            <!-- Blog Card 3 -->
            <div class="group cursor-pointer">
                <div class="h-64 rounded-xl overflow-hidden mb-4 relative">
                    <img src="https://images.unsplash.com/photo-1595515106967-1b37b03bfa86?q=80&w=600&auto=format&fit=crop" 
                         class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Rəng Psixologiyası">
                    <span class="absolute top-4 left-4 bg-white/90 backdrop-blur text-slate-900 text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-wide">Psixologiya</span>
                </div>
                <span class="text-xs text-slate-400 font-medium">15 Oktyabr, 2024</span>
                <h3 class="text-lg font-bold text-slate-900 mt-2 mb-2 group-hover:text-brand transition-colors">Ofis Mebellərində Rəng Psixologiyası</h3>
                <p class="text-sm text-slate-500 line-clamp-2 leading-relaxed">
                    İş mühitində məhsuldarlığı artırmaq üçün hansı rəng tonlarından istifadə etməlisiniz? Ekspert rəyləri.
                </p>
                <!-- Styled Read Button -->
                <button class="mt-4 flex items-center gap-2 text-brand text-xs font-medium border-b border-brand pb-1 hover:text-slate-900 hover:border-slate-900 transition-colors">
                    Oxu <i data-lucide="arrow-right" class="w-3 h-3"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- PARTNERS INFINITE SCROLL SECTION -->
    <section class="border-t border-slate-100 py-12 bg-white overflow-hidden pause-on-hover ">
        <div class="max-w-7xl mx-auto px-6 mb-8 text-center">
             <p class="text-xs font-bold text-slate-400 uppercase tracking-widest">Partnyorlarımız</p>
        </div>
        
        <div class="relative w-full flex overflow-hidden mask-fade-sides">
            <!-- Inner Container for scrolling -->
            <div class="flex animate-scroll whitespace-nowrap gap-16 items-center">
                <!-- Logos Set 1 -->
                <span class="text-2xl font-bold text-slate-300 mx-4">BLUM</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">EGGER</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">HETTICH</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">KASTAMONU</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">AGT</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">STARWOOD</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">HAFELE</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">TEKA</span>

                <!-- Logos Set 2 (Duplicate for seamless loop) -->
                <span class="text-2xl font-bold text-slate-300 mx-4">BLUM</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">EGGER</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">HETTICH</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">KASTAMONU</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">AGT</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">STARWOOD</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">HAFELE</span>
                <span class="text-2xl font-bold text-slate-300 mx-4">TEKA</span>
            </div>
        </div>
    </section>
    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 text-sm border-t border-slate-800">
        <div class="max-w-7xl mx-auto px-6 md:px-12 py-16">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-12">
                <!-- Brand Column -->
                <div class="flex flex-col gap-6">
                    <!-- Logo Image -->
                    <img src="http://ebrd.customar.tech/fabbrica1/svg/logo-dark.svg" 
                         alt="Fabbrica Logo" 
                         class="w-32 brightness-0 invert"
                         onerror="this.style.display='none'; this.parentElement.innerHTML+='<h2 class=\'text-2xl font-bold text-white tracking-widest\'>FABBRICA</h2>'">
                    
                    <p class="leading-relaxed max-w-sm">
                        Estetika və funksionallığın harmoniyası. Eviniz və ofisiniz üçün premium mebel həlləri.
                    </p>
                    <div class="flex gap-4">
                        <a href="#" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-brand hover:text-white transition-all duration-300">
                            <i data-lucide="instagram" class="w-5 h-5"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-brand hover:text-white transition-all duration-300">
                            <i data-lucide="facebook" class="w-5 h-5"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-brand hover:text-white transition-all duration-300">
                            <i data-lucide="linkedin" class="w-5 h-5"></i>
                        </a>
                    </div>
                </div>

                <!-- Quick Links -->
                <div>
                    <h3 class="text-white font-semibold mb-6 tracking-wide uppercase text-xs">Menu</h3>
                    <ul class="flex flex-col gap-4">
                        <li><a href="#" class="hover:text-brand transition-colors">Haqqımızda</a></li>
                        <li><a href="#" class="hover:text-brand transition-colors">Xidmətlər</a></li>
                        <li><a href="#" class="hover:text-brand transition-colors">Materiallar</a></li>
                        <li><a href="#" class="hover:text-brand transition-colors">Layihələr</a></li>
                        <li><a href="#" class="hover:text-brand transition-colors">Bloq</a></li>
                    </ul>
                </div>

                <!-- Contact Info -->
                <div>
                    <h3 class="text-white font-semibold mb-6 tracking-wide uppercase text-xs">Əlaqə</h3>
                    <ul class="flex flex-col gap-4">
                        <li class="flex items-start gap-3">
                            <i data-lucide="map-pin" class="w-5 h-5 text-brand shrink-0"></i>
                            <span>Bakı şəhəri, Nərimanov rayonu,<br>Əhməd Rəcəbli küçəsi 15</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i data-lucide="phone" class="w-5 h-5 text-brand shrink-0"></i>
                            <a href="tel:+994501234567" class="hover:text-white transition">+994 50 123 45 67</a>
                        </li>
                        <li class="flex items-center gap-3">
                            <i data-lucide="mail" class="w-5 h-5 text-brand shrink-0"></i>
                            <a href="mailto:info@fabbrica.az" class="hover:text-white transition">info@fabbrica.az</a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Bottom Bar -->
            <div class="pt-8 border-t border-slate-800 flex flex-col md:flex-row justify-between items-center gap-4 text-xs">
                <p>&copy; 2024 Fabbrica Mebel Fabriki. Bütün hüquqlar qorunur.</p>
                <div class="flex gap-6">
                    <a href="#" class="hover:text-brand transition">Məxfilik Siyasəti</a>
                    <a href="#" class="hover:text-brand transition">İstifadə Şərtləri</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // --- MOBILE MENU LOGIC ---
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const openMenuBtn = document.getElementById('open-menu-btn');
        const closeMenuBtn = document.getElementById('close-menu-btn');

        function toggleMenu() {
            const isClosed = mobileMenuOverlay.classList.contains('translate-x-full');
            if (isClosed) {
                mobileMenuOverlay.classList.remove('translate-x-full');
            } else {
                mobileMenuOverlay.classList.add('translate-x-full');
            }
        }

        // Add event listeners only if elements exist
        if (openMenuBtn) {
            openMenuBtn.addEventListener('click', toggleMenu);
        }
        if (closeMenuBtn) {
            closeMenuBtn.addEventListener('click', toggleMenu);
        }

        // --- LANGUAGE DROPDOWN LOGIC ---
        const langBtn = document.getElementById('lang-btn');
        const langDropdown = document.getElementById('lang-dropdown');
        const langChevron = document.getElementById('lang-chevron');

        function toggleLangDropdown(e) {
            e.stopPropagation();
            const isHidden = langDropdown.classList.contains('hidden');
            
            if (isHidden) {
                langDropdown.classList.remove('hidden');
                // Small delay to allow display:block to apply before opacity transition
                setTimeout(() => {
                    langDropdown.classList.remove('opacity-0', 'scale-95');
                    langDropdown.classList.add('opacity-100', 'scale-100');
                    langChevron.classList.add('rotate-180');
                }, 10);
            } else {
                closeLangDropdown();
            }
        }

        function closeLangDropdown() {
            langDropdown.classList.remove('opacity-100', 'scale-100');
            langDropdown.classList.add('opacity-0', 'scale-95');
            langChevron.classList.remove('rotate-180');
            
            // Wait for transition to finish before hiding
            setTimeout(() => {
                langDropdown.classList.add('hidden');
            }, 200);
        }

        langBtn.addEventListener('click', toggleLangDropdown);

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!langBtn.contains(e.target) && !langDropdown.contains(e.target)) {
                if (!langDropdown.classList.contains('hidden')) {
                    closeLangDropdown();
                }
            }
        });

        // SYNC HEIGHTS FUNCTION
        // This function syncs the height of the next-slide card to the text panel
        function syncHeights() {
            const textPanel = document.getElementById('hero-text-panel');
            const slideCard = document.getElementById('next-slide-card');
            if(textPanel && slideCard) {
                // Set the height of slide card to match text panel
                // We use style.height to set explicit pixel height
                slideCard.style.height = `${textPanel.offsetHeight}px`;
            }
        }

        // --- SLIDER LOGIC ---
        const slides = [
            {
                image: "https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?q=80&w=2000&auto=format&fit=crop",
                title: "Premium mebel istehsalı: Estetika və funksionallığın sərhədsiz harmoniyası",
                nextTitle: "Mətbəx Həlləri"
            },
            {
                image: "https://images.unsplash.com/photo-1556911220-e15b29be8c8f?q=80&w=2000&auto=format&fit=crop",
                title: "Mətbəxiniz üçün mükəmməl həllər: Dad və dizaynın görüşdüyü məkan",
                nextTitle: "Yataq Otağı"
            },
            {
                image: "https://images.unsplash.com/photo-1524758631624-e2822e304c36?q=80&w=2000&auto=format&fit=crop",
                title: "Rahatlıq və şıklığın ünvanı: Yuxularınızı bəzəyən yataq otaqları",
                nextTitle: "Premium Dizayn"
            }
        ];

        let currentSlide = 0;
        let progress = 0;
        let sliderInterval;
        const duration = 5000; // 5 seconds per slide
        const updateInterval = 50; // Update progress bar every 50ms

        const heroBg = document.getElementById('hero-bg');
        const heroTitle = document.getElementById('hero-title');
        const nextSlideImg = document.getElementById('next-slide-img');
        const nextSlideTitle = document.getElementById('next-slide-title');
        const progressBar = document.getElementById('slider-progress');

        function startSlider() {
            console.log('Starting slider...');
            console.log('Hero elements:', heroBg, heroTitle, nextSlideImg, nextSlideTitle, progressBar);
            console.log('Slides array:', slides);
            
            clearInterval(sliderInterval);
            progress = 0;
            updateNextSlidePreview();
            syncHeights(); // Sync initially
            
            sliderInterval = setInterval(() => {
                progress += (updateInterval / duration) * 100;
                progressBar.style.width = `${progress}%`;
                console.log('Progress:', progress);

                if (progress >= 100) {
                    changeSlide();
                    progress = 0;
                    progressBar.style.width = '0%';
                }
            }, updateInterval);
            
            console.log('Slider started with interval:', sliderInterval);
        }

        function changeSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            const slide = slides[currentSlide];

            // Fade out
            heroBg.style.opacity = '0';
            
            setTimeout(() => {
                // Change Content
                heroBg.src = slide.image;
                heroTitle.textContent = slide.title;
                
                // Fade in
                heroBg.onload = () => {
                    heroBg.style.opacity = '1';
                };
                
                // Fallback if cached
                if(heroBg.complete) heroBg.style.opacity = '1';

                updateNextSlidePreview();
                
                // Sync heights after text content change (allow browser to render new text)
                setTimeout(syncHeights, 50); 
            }, 500); // Wait for fade out
        }

        function forceNextSlide() {
            progress = 100; // Force trigger
        }

        function updateNextSlidePreview() {
            const nextIndex = (currentSlide + 1) % slides.length;
            const nextSlide = slides[nextIndex];
            
            nextSlideImg.src = nextSlide.image;
            nextSlideTitle.textContent = nextSlide.nextTitle;
        }

        // --- SCROLL ANIMATIONS (INTERSECTION OBSERVER) ---
        function initScrollAnimations() {
            const reveals = document.querySelectorAll('.reveal');

            const revealObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                        // Optional: Stop observing once revealed
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                root: null,
                threshold: 0.15, // Trigger when 15% visible
                rootMargin: "0px 0px -50px 0px"
            });

            reveals.forEach(reveal => {
                revealObserver.observe(reveal);
            });
        }

        // --- NUMBER COUNTER ANIMATION ---
        function initCounters() {
            const counters = document.querySelectorAll('.counter');
            const speed = 200; // The lower the slower

            const counterObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const counter = entry.target;
                        const target = +counter.getAttribute('data-target');
                        
                        const updateCount = () => {
                            const count = +counter.innerText;
                            const inc = target / speed;

                            if (count < target) {
                                counter.innerText = Math.ceil(count + inc);
                                setTimeout(updateCount, 20);
                            } else {
                                counter.innerText = target;
                            }
                        };
                        updateCount();
                        observer.unobserve(counter);
                    }
                });
            }, { threshold: 0.5 });

            counters.forEach(counter => {
                counterObserver.observe(counter);
            });
        }

        // Event Listeners
        window.onload = function() {
            startSlider();
            initScrollAnimations();
            initCounters();
        };
        window.onresize = syncHeights; // Sync on resize

    </script>
</body>
</html>